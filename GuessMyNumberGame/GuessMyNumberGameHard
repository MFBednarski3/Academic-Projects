
import java.awt.Color;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import java.util.Random;

import javax.swing.*;

//Once again, same as easy and normal except 1 through 1000
public class GuessMyNumberGameHard {
	static int tries = 0;
	static int lastGuess = 0;
	
	Random rand = new Random();
	int answer = rand.nextInt(1000)+1;
	
	JLabel label1 = new JLabel();
	JLabel label2 = new JLabel();
	JButton button1 = new JButton("Submit");
	JButton button2 = new JButton("Reset");
	JTextField text1 = new JTextField();
	JFrame frame = new JFrame("Guess My Number Game");
	
	public GuessMyNumberGameHard(){
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setSize(400,300);
		frame.setLayout(new GridLayout(4,1));
		frame.getContentPane().setBackground(Color.RED);
		
		label1.setText("Guess a number between 1 and 1000");
		label1.setHorizontalTextPosition(JLabel.CENTER);
		label1.setHorizontalAlignment(JLabel.CENTER);
		
		label2.setText("Enter your guess in the text box below");
		label2.setHorizontalTextPosition(JLabel.CENTER);
		label2.setHorizontalAlignment(JLabel.CENTER);
		
		frame.add(label1);
		frame.add(label2);
		frame.add(text1);
		frame.add(button1);
		frame.setVisible(true);
		
		button1.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e) {
				String guessString = text1.getText();
				int guess = Integer.parseInt(guessString);
				if (guess == answer){
					try {
						ExactGuess();
					} catch (ClassNotFoundException | IOException | InterruptedException e1) {
						e1.printStackTrace();
					}
				}
				else if (guess < 1 || guess > 1000){
					tries++;
					JOptionPane.showMessageDialog(new JFrame(), "Number is not between 1 and 1000", "ERROR", JOptionPane.ERROR_MESSAGE);
					label1.setText("Guess a number BETWEEN 1 and 1000");
					label2.setText("Enter your guess in the text box below");
				}
				else{
					if (guess < answer){
						LowGuess(guess);
					}
					else{
						HighGuess(guess);
					}
				}
			}	
		});
		
		
	}
	void LowGuess(int guess){
		lastGuess = guess;
		tries++;
		label1.setText("That number is too low. Try higher");
		label2.setText("Last number guessed: " + lastGuess);
		
	}
	
	void HighGuess(int guess){
		lastGuess = guess;
		tries++;
		label1.setText("That number is too high. Try lower");
		label2.setText("Last number guessed: " + lastGuess);
	}
	
	void ExactGuess() throws ClassNotFoundException, IOException, InterruptedException{
		tries++;
		label1.setText("That is the exact number!");
		label2.setText("You toke " + tries + " tries");
		button1.setEnabled(false);
		
		HighScoresHard scores = new HighScoresHard();
		
		int finalScore = 1001 - tries;
		scores.addScore(finalScore);
		scores.HighScoreBox();
		frame.dispose();
	}
}
